{% extends 'base/home.html' %}

{% load static %}

{% block navbar_title_url %}{% url 'operation-lab' %}{% endblock %}

{% block title %}Operation Lab{% endblock %}

{% block head %}


<script type="text/javascript" src="{% static 'base/jQuery/code.jquery.com_jquery-3.7.0.min.js' %}"></script>


<script src="{% static 'base/scripts/home/cdnjs.cloudflare.com_ajax_libs_Chart.js_4.3.3_chart.umd.min.js' %}" ></script>


{% endblock %}

{% block svg_symbols %}
    <symbol id="pc" viewBox="0 0 16 16">
        <path d="M5 0a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1H5Zm.5 14a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1Zm2 0a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1ZM5 1.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5ZM5.5 3h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1Z"/>
    </symbol>
    <symbol id="laptop" viewBox="0 0 16 16">
        <path d="M13.5 3a.5.5 0 0 1 .5.5V11H2V3.5a.5.5 0 0 1 .5-.5h11zm-11-1A1.5 1.5 0 0 0 1 3.5V12h14V3.5A1.5 1.5 0 0 0 13.5 2h-11zM0 12.5h16a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5z"/>
    </symbol>
    <symbol id="keyboard" viewBox="0 0 16 16">
        <path d="M14 5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h12zM2 4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H2z"/>
        <path d="M13 10.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm0-2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm-5 0A.25.25 0 0 1 8.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 8 8.75v-.5zm2 0a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-.5zm1 2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm-5-2A.25.25 0 0 1 6.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 6 8.75v-.5zm-2 0A.25.25 0 0 1 4.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 4 8.75v-.5zm-2 0A.25.25 0 0 1 2.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 2 8.75v-.5zm11-2a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm-2 0a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm-2 0A.25.25 0 0 1 9.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 9 6.75v-.5zm-2 0A.25.25 0 0 1 7.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 7 6.75v-.5zm-2 0A.25.25 0 0 1 5.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 5 6.75v-.5zm-3 0A.25.25 0 0 1 2.25 6h1.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 6.75v-.5zm0 4a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zm2 0a.25.25 0 0 1 .25-.25h5.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-5.5a.25.25 0 0 1-.25-.25v-.5z"/>
    </symbol>
    <symbol id="cpu" width="16" height="16" fill="currentColor"  viewBox="0 0 16 16">
        <path d="M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0zm-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>
    </symbol>
{% endblock %}

{% block logged_in_username_name %} {{request.user.username}} {% endblock %}
{% block sidebar_dashboard_url %}{% url 'operation-lab' %}{% endblock %}

{% block sidebar_links %}
<li class="nav-item">
    <a class="nav-link d-flex align-items-center gap-2" href="{% url 'operation-lab-add-device' %}">
        <svg class="bi">
            <use xlink:href="#laptop"/>
        </svg>
        Add Device
    </a>
</li>
<li class="nav-item">
    <a class="nav-link d-flex align-items-center gap-2"
       href="{% url 'request-spare-parts-peripherals-devices' %}">
        <svg class="bi">
            <use xlink:href="#cpu"/>
        </svg>
        Request Spare Parts, Peripherals or Devices
    </a>
</li>
<li class="nav-item">
    <a class="nav-link d-flex align-items-center gap-2" href="{% url 'operation-lab-request-anything' %}">
        <svg class="bi">
            <use xlink:href="#keyboard"/>
        </svg>
        Request Anything
    </a>
</li>
<li class="nav-item">
    <a class="nav-link d-flex align-items-center gap-2" href="{% url 'operation-lab-my-requests-main' %}">
        <svg class="bi">
            <use xlink:href="#"/>
        </svg>
        My Requests
    </a>
</li>
<li class="nav-item">
    <a class="nav-link d-flex align-items-center gap-2" href="{% url 'devices-added-by-user-list' %}">
        <svg class="bi">
            <use xlink:href="#"/>
        </svg>
        Devices Added By Me
    </a>
</li>
<li class="nav-item">
    <a class="nav-link d-flex align-items-center gap-2" href="#">
        <svg class="bi">
            <use xlink:href="#graph-up"/>
        </svg>
        Report
    </a>
</li>
{% endblock %}

{% block main_header %}
    <div>
        <h2 class="h2 mx-auto">Dashboard</h2>
    </div>
{% endblock %}


{% block main %}
{% comment %} <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Dashboard</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        <div class="btn-group me-2">
            <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
            <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
        </div>
        <button type="button"
                class="btn btn-sm btn-outline-secondary dropdown-toggle d-flex align-items-center gap-1">
            <svg class="bi">
                <use xlink:href="#calendar3"/>
            </svg>
            This week
        </button>
    </div>
</div> {% endcomment %}


<div class="mb-3 mt-5 mx-auto justify-content-center" style="width:250px;">
    <select class="form-select">
        <option selected>Open this select menu</option>
        <option value="1"># of Inspected devices by {{request.user.username}} in Eeek Days</option>
        <option value="2"># of Inspected devices by {{request.user.username}} in a Months</option>
        <option value="3"># of Inspected Devices by {{request.user.username}} in a Year</option>
        <option value="4">Spendings in a Day of a Month</option>
        <option value="5">Spendings in a Month</option>
        <option value="6">Spendings in a Year</option>
        <option value="7">Average of Spendings in a month</option>
    </select>
</div>

<div>
    <canvas class="my-4 w-100" id="myChart" width="900" height="380"></canvas>
</div>

<div>
    <canvas class="my-4 w-100" id="chart-per-year" width="900" height="380"></canvas>
</div>




{% endblock %}

{% block scripts %}
{% comment %} <script src="{% static 'base/scripts/home/cdnjs.cloudflare.com_ajax_libs_Chart.js_4.3.3_chart.js' %}"></script> {% endcomment %}

<script>
$(document).ready(function () {
        const ctx = document.getElementById('myChart');
  
        let myDataset = [
          { year: 2010, device: 10 },
          { year: 2011, device: 20 },
          { year: 2012, device: 15 },
          { year: 2013, device: 25 },
          { year: 2014, device: 22 },
          { year: 2015, device: 30 },
        ];
  


        let chartOnWeekDays= new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday'],
            datasets: [{
              label: '# of Refurbished Devices By {{request.user.username}} on week days',
              data: [{% for day in myDataset %}{{day}},{% endfor %}  ],
              //data: [19, 10, 15, 12, 8],
              borderWidth: 1
            }]
          },
          options: {
            plugins: {
              tooltip: {
                enabled: true
              }
            },
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });



        

        let chartPerYear = new Chart(document.getElementById('chart-per-year'), {
            type: 'bar',
            data: {
                labels: ['2016', '2017', '2018', '2019', '2020', '2021', '2022'],
                datasets: [{
                    label: '# of Inspected Devices By {{request.user.username}} in a Year',
                    data: [55, 656, 489, 314, 1056, 6186, 1006],
                    borderWidth: 1
                }]
            },
            options: {},
        });
  


      });
  
</script>
{% endblock %}